% Modified version of the public domain alloy.sty mode for the LaTeX listings package.

\lstdefinelanguage{alloy}{
  keywords={%
      assert, pred, all, no, lone, one, some, check, run,
      but, let, implies, not, iff, in, and, or, set, sig, Int, int,
      if, then, else, exactly, disj, fact, fun, module, abstract,
      extends, open, none, univ, iden, seq, for,
  },
  literate=%
    *{:}{{{\color[HTML]{2835C0}{:}}}}1
    {>}{{{{>}}}}1
    {<}{{{{<}}}}1
    {|}{{{\color[HTML]{2835C0}{|}}}}1
    {=}{{{{=}}}}1
    {!=}{{{{!=}}}}1
    {=<}{{{{=<}}}}1
    {>=}{{{{>=}}}}1
	 {0}{{{\color[HTML]{A80A0A}0}}}1
 	 {1}{{{\color[HTML]{A80A0A}1}}}1
    {2}{{{\color[HTML]{A80A0A}2}}}1
    {3}{{{\color[HTML]{A80A0A}3}}}1
    {4}{{{\color[HTML]{A80A0A}4}}}1
    {5}{{{\color[HTML]{A80A0A}5}}}1
    {6}{{{\color[HTML]{A80A0A}6}}}1
    {7}{{{\color[HTML]{A80A0A}7}}}1
    {8}{{{\color[HTML]{A80A0A}8}}}1
    {9}{{{\color[HTML]{A80A0A}9}}}1
    ,
  sensitive=true,
  morecomment=[l]//,
  morecomment=[l]{--},
  morecomment=[s]{/*}{*/},
  morestring=[b]",
  numbers=left,
  firstnumber=1,
  numberstyle=\scriptsize\color[HTML]{B8B8B8},
  stepnumber=1, 
  basicstyle=\small\ttfamily,
  commentstyle=\color[HTML]{00A108},
  keywordstyle=\color[HTML]{2835C0}\bfseries,
  ndkeywordstyle=\bfseries,
  tabsize = 4,
breaklines=true,
postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\color{red}\hookrightarrow\space}}
}

% inline
\def\A{%
    \lstinline[language=alloy,basicstyle=\ttfamily,columns=fixed]}

% paragraph
\lstnewenvironment{alloy}[1][]{%
  \lstset{language=alloy,
    floatplacement={tbp},captionpos=b,
    xleftmargin=8pt, xrightmargin=8pt,
    basicstyle=\ttfamily,#1}}{}

% paragraph from file
\newcommand{\alloyfile}[1]{
  \lstinputlisting[language=alloy,%
    frame=lines,xleftmargin=8pt,xrightmargin=8pt,basicstyle=\ttfamily,columns=fixed]{#1}
}

%\lstset{
%    breaklines=true, breakwhitespace=true,
    %postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\color{red}\hookrightarrow\space}}
%}
